(function(){"use strict";var t={2462:function(t,e,a){var n=a(6369),i=function(){var t=this,e=t._self._c;return e("section",{staticClass:"todoapp"},[e("TodoHeader",{attrs:{addItem:t.addItem,allSumStaus:t.allSumStaus,changeSumStaus:t.changeSumStaus,dataListLength:t.dataListLength}}),e("TodoMain",{attrs:{filterDataList:t.filterDataList,checkItem:t.checkItem,updateItem:t.updateItem,deleteItem:t.deleteItem}}),e("TodoFooter",{attrs:{leftSum:t.leftSum,clearDone:t.clearDone,optionCur:t.optionCur,changeOption:t.changeOption}})],1)},o=[],s=(a(7658),function(){var t=this,e=t._self._c;return e("header",{staticClass:"header"},[e("h1",[t._v("todos")]),e("input",{staticClass:"new-todo",attrs:{type:"text",placeholder:"what need to be done?"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addItemF.apply(null,arguments)}}}),e("input",{staticClass:"toggle-all",attrs:{type:"checkbox",disabled:t.dataListLength},domProps:{checked:t.allSumStaus},on:{change:function(e){return t.changeSumStausF(!t.allSumStaus)}}})])}),r=[],l={name:"TodoHeader",props:["addItem","allSumStaus","changeSumStaus","dataListLength"],methods:{addItemF(t){let e=t.target.value.trim();""!=e&&(this.addItem(e),t.target.value="")},changeSumStausF(t){this.changeSumStaus(t)}}},u=l,c=a(1001),d=(0,c.Z)(u,s,r,!1,null,"620e8a16",null),h=d.exports,p=function(){var t=this,e=t._self._c;return e("section",{staticClass:"main"},[e("ul",{staticClass:"todo-list"},t._l(t.filterDataList,(function(a,n){return e("li",{key:a.id,class:["todo",{editing:t.editFlag==n},{completed:a.status}],on:{dblclick:function(e){return t.inEditing(n)}}},[e("div",{staticClass:"view"},[e("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:a.status},on:{click:function(e){return t.checkItemF(a.id)}}}),e("label",[t._v(t._s(a.text))]),e("button",{staticClass:"destroy",on:{click:function(e){return t.deleteItem(a.id)}}})]),e("TodoInput",{ref:"item",refInFor:!0,attrs:{targetItem:a.text,outEditing:t.outEditing}})],1)})),0)])},f=[],m=function(){var t=this,e=t._self._c;return e("input",{staticClass:"edit",staticStyle:{display:"'none'"},attrs:{type:"text",placeholder:"回 车 保 存"},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.outEditing(e.target.value.trim(),t.targetItem)},blur:t.blurHandler}})},g=[],v={name:"TodoInput",data(){return{}},props:{outEditing:Function,targetItem:String},methods:{blurHandler(t){let e=t.target.value.trim();this.outEditing(e,this.targetItem),t.target.value=""}}},C=v,L=(0,c.Z)(C,m,g,!1,null,"60d5fd15",null),S=L.exports,I={name:"TodoMain",data(){return{editFlag:-1}},props:{filterDataList:Array,deleteItem:Function,updateItem:Function,checkItem:Function},components:{TodoInput:S},methods:{checkItemF(t){this.checkItem(t)},inEditing(t){this.editFlag=t,this.$nextTick((()=>{this.$refs.item[t].$el.focus()}))},outEditing(t,e){""!=t&&t!=e&&this.updateItem(t,e),this.editFlag=-1}}},k=I,y=(0,c.Z)(k,p,f,!1,null,"72cd8166",null),x=y.exports,_=function(){var t=this,e=t._self._c;return e("footer",{staticClass:"footer"},[e("span",{staticClass:"todo-count"},[e("strong",[t._v(t._s(t.leftSum))]),t._v(" items left")]),e("ul",{staticClass:"filters"},[e("li",[e("a",{class:{selected:"all"==t.optionCur},attrs:{href:"#"},on:{click:function(e){return t.changeOption("all")}}},[t._v("all")])]),e("li",[e("a",{class:{selected:"active"==t.optionCur},attrs:{href:"#"},on:{click:function(e){return t.changeOption("active")}}},[t._v("active")])]),e("li",[e("a",{class:{selected:"completed"==t.optionCur},attrs:{href:"#"},on:{click:function(e){return t.changeOption("completed")}}},[t._v("completed")])])]),e("button",{staticClass:"clear-completed",on:{click:t.clearDone}},[t._v("clear completed")])])},b=[],O={name:"TodoFooter",props:["leftSum","todos","clearDone","optionCur","changeOption"]},F=O,D=(0,c.Z)(F,_,b,!1,null,"4499f367",null),T=D.exports,w={name:"App",components:{TodoHeader:h,TodoMain:x,TodoFooter:T},data(){return{optionCur:"",dataList:[]}},created(){let t=this.$getData();this.optionCur=t.optionCur,this.dataList=t.dataList},watch:{optionCur(){console.log("切换选项，就保存"),this.$saveData({optionCur:this.optionCur,dataList:this.dataList})},dataList:{deep:!0,handler(){console.log("数据一旦改变，就保存"),this.$saveData({optionCur:this.optionCur,dataList:this.dataList})}}},computed:{dataListLength(){return!(this.dataList.length>0)},allSumStaus(){return this.dataList.length>0&&this.dataList.every((t=>t.status))},leftSum(){return this.dataList.filter((t=>0==t.status)).length},filterDataList(){return"active"==this.optionCur?(console.log(this.optionCur),this.dataList.filter((t=>!t.status))):"completed"==this.optionCur?this.dataList.filter((t=>t.status)):"all"==this.optionCur?this.dataList:void 0}},methods:{addItem(t){if(-1==this.dataList.findIndex((e=>e.text==t))){let e={text:t,status:!1,id:Date.now()};this.dataList.push(e)}else alert("本事项 已添加，请勿重复添加！")},changeSumStaus(t){this.dataList.map((e=>e.status=t))},checkItem(t){let e=this.dataList.find((e=>e.id==t));e.status=!e.status},updateItem(t,e){-1==this.dataList.findIndex((e=>e.text==t))?this.dataList.forEach((a=>{a.text==e&&(a.text=t)})):console.log("本事项 已添加！")},deleteItem(t){this.dataList.forEach(((e,a)=>{t==e.id&&this.dataList.splice(a,1)}))},clearDone(){this.dataList=this.dataList.filter((t=>!t.status))},changeOption(t){this.optionCur=t}}},E=w,Z=(0,c.Z)(E,i,o,!1,null,null,null),$=Z.exports;function P(t){t&&localStorage.setItem("todoMVC",JSON.stringify(t))}function M(){try{const t=localStorage.getItem("todoMVC");if(t)return JSON.parse(t);{const e={optionCur:"all",dataList:[{text:"吃点什么呢？？？？",status:!1,id:0},{text:"人嘛！总得有点追求.....",status:!1,id:2},{text:"时不我待",status:!0,id:3}]};return localStorage.setItem("todoMVC",JSON.stringify(e)),JSON.parse(t)}}catch(t){console.error("Error while loading data from localStorage:",t)}}n.ZP.prototype.$saveData=P,n.ZP.prototype.$getData=M,n.ZP.config.productionTip=!1,new n.ZP({render:t=>t($)}).$mount("#app")}},e={};function a(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,n,i,o){if(!n){var s=1/0;for(c=0;c<t.length;c++){n=t[c][0],i=t[c][1],o=t[c][2];for(var r=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(a.O).every((function(t){return a.O[t](n[l])}))?n.splice(l--,1):(r=!1,o<s&&(s=o));if(r){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[n,i,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,o,s=n[0],r=n[1],l=n[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(l)var c=l(a)}for(e&&e(n);u<s.length;u++)o=s[u],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(c)},n=self["webpackChunktodo_mvc"]=self["webpackChunktodo_mvc"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(2462)}));n=a.O(n)})();
//# sourceMappingURL=app.8cf12849.js.map